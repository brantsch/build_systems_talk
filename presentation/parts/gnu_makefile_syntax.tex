\begin{frame}
	\frametitle{Makefile}
	Konfiguration von Make für ein bestimmtes Projekt
\end{frame}

\begin{frame}
\frametitle{Bestandteile eines Makefiles}
\begin{description}[Variablendefinitionen] %length of options argument is measured to set width of items in description
	\pause
	\item[Regeln] Beschreiben wann und wie Dateien (\emph{Targets}) abhängig von \emph{Prerequisites} erstellt werden sollen.
		\begin{description}
		\item[explizit] Targets benennen Dateien
		\item[implizit] Targets benennen Klassen von Dateien
		\end{description}
	\pause
	\item[Direktiven] z.B. \begin{itemize}
			\item Einlesen anderer Makefiles
			\item Kontrollstrukturen für Entscheidungen
			\item Definition mehrzeiliger Variablen
		\end{itemize}
	\pause
	\item[Variablendefinitionen] Zuweisungen von Zeichenketten zu Namen
	\pause
	\item[Kommentare] nicht interpretierter Text
\end{description}
\end{frame}

\begin{frame}
	\frametitle{Kommentare}
	\begin{syntdiag}
		‘\#’
		\synt{text}
		\synt{newline}
	\end{syntdiag}
\end{frame}

\begin{frame}
	\frametitle{Strings}
	\begin{syntdiag}
		\begin{rep}
			\begin{stack}
				\tok{ASCII Zeichen ohne \$} \\
				\$\$ \\
				\synt{variablenreferenz} \\
				\synt{funktionsaufruf}
			\end{stack}
		\end{rep}
	\end{syntdiag}
\end{frame}

\begin{frame}
	\frametitle{Funktionsaufrufe}
	\begin{syntdiag}
		‘\$(’ \synt{name}
		\synt{whitespace}
		\begin{stack}
			\\
			\begin{rep}
				\synt{string} ‘,’
			\end{rep}
		\end{stack}
		\synt{string}
		‘)’
	\end{syntdiag}
\end{frame}

\begin{frame}
	\frametitle{Entscheidungs-Kontrollstrukturen}
	\begin{syntdiag}
		\synt{bedingung}
		\synt{string}
		\begin{stack}
			\\
			‘else’
			\synt{string}
		\end{stack}
		‘endif’
	\end{syntdiag}

	\textbf{Bedingungen}
	\begin{syntdiag}
		\begin{stack}
			‘ifeq’ \\
			‘ifneq’ \\
			‘ifdef’ \\
			‘ifndef’
		\end{stack}
		\begin{stack}
			‘(’ \synt{string} ‘,’ \synt{string} ‘)’ \\
			\begin{stack}
				‘''’ \synt{string} ‘''’ \\
				‘'’ \synt{string} ‘'‘
			\end{stack}
			\begin{stack}
				‘''’ \synt{string} ‘''‘ \\
				‘'’ \synt{string} ‘'’
			\end{stack}
		\end{stack}
	\end{syntdiag}
\end{frame}
%
%\begin{frame}
%	\frametitle{sonstige Direktiven}
%	\begin{syntdiag}
%		‘vpath’ 
%		\begin{rep}
%			\synt{string}
%		\end{rep}
%	\end{syntdiag}
%	\begin{syntdiag}
%		‘override’
%		\synt{variablendefinition}
%	\end{syntdiag}
%	\begin{syntdiag}
%		‘undefine’
%		\synt{variablenname}
%	\end{syntdiag}
%\end{frame}

\begin{frame}
\frametitle{Variablen}

	\begin{description}[rekursiv expandierte Variablen]
		\pause
		\item[rekursiv expandierte Variablen] keine Expansion in Definition, rekursive Expansion bei Referenz
		\pause
		\item[einfach expandierte Variablen] Expansion erfolgt \emph{einmalig} bei Definition/Redefinition
		\pause
		\item[automatische Variablen] Belegung durch Make
	\end{description}
\end{frame}

\begin{frame}
\frametitle{Variablen}
	\textbf{Variablenreferenz}
	\begin{syntdiag}
		\$ \begin{stack}
			\{ \synt{string} \} \\
			( \synt{string} )
		\end{stack}
	\end{syntdiag}

	\textbf{Definition/Redefinition einer Variable}
	\begin{syntdiag}
		\synt{variable name}
		\begin{stack}
			'=' \\
			':='
		\end{stack}
		\begin{rep}
			\synt{string}
		\end{rep}
	\end{syntdiag}
	\begin{syntdiag}
		‘define’
		\synt{variable name}
		‘=’
		\synt{newline}
		\begin{rep}
			\synt{string}
			\synt{newline}
		\end{rep}
		‘endef’
	\end{syntdiag}

	\textbf{Anhängen an eine Variable}
	\begin{syntdiag}
		\synt{variable name}
		‘+=’
		\begin{rep}
			\synt{string}
		\end{rep}
	\end{syntdiag}

	\vfill\eject
\end{frame}

\begin{frame}[allowframebreaks]
\frametitle{Regeln}
	\textbf{rule}
	\begin{syntdiag}
		\begin{rep}
			\synt{target}
		\end{rep}
		\begin{stack}
			‘:’ \\
			‘::’
		\end{stack}
		\begin{stack}
			\begin{rep}
				\synt{prerequisite}
			\end{rep} \\
		\end{stack}
		\begin{stack}
			\\
			\synt{newline}
			\begin{rep}
				\synt{recipe line}
			\end{rep}
		\end{stack}
	\end{syntdiag}

	\textbf{recipe line}
	\begin{syntdiag}
		\synt{tab}
		\begin{stack}
			\\
			\begin{rep}
				\synt{string}
				\synt{backslash}
				\synt{newline}
			\end{rep}
		\end{stack}
		\synt{string}
	\end{syntdiag}
\end{frame}

\begin{frame}
\frametitle{Targets und Prerequisites}
	\textbf{Target}
	\begin{syntdiag}
		\begin{stack}
			\synt{dateiname} \\
			\synt{pattern}
		\end{stack}
	\end{syntdiag}

	\textbf{Prerequisite}
	\begin{syntdiag}
		\begin{stack}
			\synt{anderes target} \\
			\synt{dateiname} \\
			\synt{pattern}
		\end{stack}
	\end{syntdiag}

	\textbf{Pattern}
	\begin{syntdiag}
		\begin{stack}
			\\
			\synt{string ohne whitespace}
		\end{stack}
		‘\%’
		\begin{stack}
			\\
			\synt{string ohne whitespace}
		\end{stack}
	\end{syntdiag}
\end{frame}
