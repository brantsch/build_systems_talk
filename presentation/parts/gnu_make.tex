\subsection{Grundfunktionalität von GNU Make}
\begin{frame}
Auszug aus dem Handbuch zu GNU Make
\begin{quote}
The make utility automatically determines which pieces of a large program need to be recompiled, and issues commands to recompile them.
\end{quote}
\end{frame}

\subsection{Makefiles}
\begin{frame}
\frametitle{Makefile} Konfiguration von Make für ein bestimmtes Projekt
\end{frame}

\begin{frame}
\frametitle{Bestandteile eines Makefiles}
\begin{description}
	\item[Target] z.B. Datei, die Make erstellen/aktualisieren soll
	\item[Recipe] Erstellungsvorschrift für ein Target
	\item[Rule] Zuordnung von Abhängigkeiten und \emph{Recipe} zu einem \emph{Target}
	\item[Variable] Benannte Referenz auf eine Zeichenkette
	\item[Macro] Verfahrensvorschrift, die in Recipes benutzt werden kann
\end{description}
\end{frame}

\begin{frame}[allowframebreaks]
\frametitle{Variablen}
	\textbf{Strings}
	\begin{syntdiag}
		\begin{rep}
			\begin{stack}
				\tok{ASCII Zeichen ohne \$} \\
				\$\$ \\
				\synt{variablenreferenz} \\
				\synt{funktionsaufruf}
			\end{stack}
		\end{rep}
	\end{syntdiag}

	\textbf{Variablenreferenz}
	\begin{syntdiag}
		\$ \begin{stack}
			\{ \synt{string} \} \\
			( \synt{string} )
		\end{stack}
	\end{syntdiag}

	\textbf{Funktionsaufruf}
	\begin{syntdiag}
		‘\$(’ \synt{name}
		\synt{whitespace}
		\begin{stack}
			\\
			\begin{rep}
				\synt{string} ‘,’
			\end{rep}
		\end{stack}
		\synt{string}
		‘)’
	\end{syntdiag}

	\textbf{Definition/Redefinition einer Variable}
	\begin{syntdiag}
		\synt{variable name}
		\begin{stack}
			'=' \\
			':='
		\end{stack}
		\begin{rep}
			\synt{string}
		\end{rep}
	\end{syntdiag}
	\begin{syntdiag}
		‘define’
		\synt{variable name}
		‘=’
		\synt{newline}
		\begin{rep}
			\synt{string}
			\synt{newline}
		\end{rep}
		‘endef’
	\end{syntdiag}

	\textbf{Anhängen an eine Variable}
	\begin{syntdiag}
		\synt{variable name}
		‘+=’
		\begin{rep}
			\synt{string}
		\end{rep}
	\end{syntdiag}

	\vfill\eject

	\begin{description}
		\item[rekursiv expandierte Variablen] keine Expansion in Definition,
			rekursive Expansion bei Referenz
		\item[einfach expandierte Variablen] Expansion erfolgt \emph{einmalig} bei Definition/Redefinition
		\item[automatische Variablen] Belegung durch Make
	\end{description}
\end{frame}

\begin{frame}
\frametitle{Regeln}
	\textbf{rule}
	\begin{syntdiag}
		\begin{rep}
			\synt{target}
		\end{rep}
		\begin{stack}
			‘:’ \\
			‘::’
		\end{stack}
		\begin{stack}
			\begin{rep}
				\synt{prerequisite}
			\end{rep} \\
		\end{stack}
		\begin{stack}
			\\
			\synt{newline}
			\begin{rep}
				\synt{recipe line}
			\end{rep}
		\end{stack}
	\end{syntdiag}

	\textbf{recipe line}
	\begin{syntdiag}
		\synt{tab}
		\begin{stack}
			\\
			\begin{rep}
				\synt{string}
				\synt{backslash}
				\synt{newline}
			\end{rep}
		\end{stack}
		\synt{string}
	\end{syntdiag}
\end{frame}

\begin{frame}
\frametitle{Targets und Prerequisites}
	\textbf{Target}
	\begin{syntdiag}
		\begin{stack}
			\synt{dateiname} \\
			\synt{pattern}
		\end{stack}
	\end{syntdiag}

	\textbf{Prerequisite}
	\begin{syntdiag}
		\begin{stack}
			\synt{anderes target} \\
			\synt{dateiname} \\
			\synt{pattern}
		\end{stack}
	\end{syntdiag}

	\textbf{Pattern}
	\begin{syntdiag}
		\begin{stack}
			\\
			\synt{string ohne whitespace}
		\end{stack}
		‘\%’
		\begin{stack}
			\\
			\synt{string ohne whitespace}
		\end{stack}
	\end{syntdiag}
\end{frame}

%\begin{frame}[allowframebreaks]
%	\frametitle{Makefile für Worm000}
%	\inputmintedmake{../code/Worm000_Makefile}
%\end{frame}
%
%\begin{frame}[allowframebreaks]
%	\frametitle{Makefile für Worm030}
%	\inputmintedmake{../code/Worm030_Makefile}
%\end{frame}
%
%\begin{frame}[allowframebreaks]
%	\frametitle{Makefile für Worm050}
%	\inputmintedmake{../code/Worm050_Makefile}
%\end{frame}

\begin{frame}[allowframebreaks]
	\frametitle{Makefile für Worm080}
	\inputmintedmake{../code/Worm080_Makefile}
\end{frame}

\begin{frame}[allowframebreaks]
	\frametitle{Makefile.common}
	\inputmintedmake{../Makefile.common}
\end{frame}

\begin{frame}
	\frametitle{presentation/Makefile}
	\inputmintedmake{Makefile}
\end{frame}

\subsection{Stärken von Make}
\begin{frame}
	\begin{itemize}
		\item Einfachheit des Einstiegs
		\item Flexibilität
	\end{itemize}
\end{frame}

\subsection{Schwächen von Make}
\begin{frame}
	\begin{itemize}
		\item Verlass auf das Änderungsdatum von Dateien zur Erkennung von Änderungen
		\item Fehlen der Unterstützung für Out-Of-Place-Builds

			Projekte können nur im Projektverzeichnis gebaut werden
		\item Boilerplate: häufig benötigte Funktionalität nicht eingebaut
			\begin{itemize}
				\item Konfiguration des zu erstellenden Projekts (\texttt{configure} müsste selbst geschrieben werden)
			\end{itemize}
		\item Mangel an Portabilität
			\begin{itemize}
				\item GNU Make ist \emph{nicht} das einzige Make
				\item Eigenheiten der POSIX-Systeme
			\end{itemize}
	\end{itemize}
\end{frame}

\subsection{Dokumentation}
\begin{frame}
	\begin{itemize}
	\item Das offizielle Handbuch zu GNU Make \cite{GNU_Make_manual}
	\item Managing Projects with GNU Make \cite{OreillyMake}
	\item Debugging Makefiles \cite{DobbsDebuggingMakefiles}
	\end{itemize}
\end{frame}
